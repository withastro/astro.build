---
import BaseHead, { type Props as HeadProps } from "~/components/BaseHead.astro"
import Footer from "~/components/Footer.astro"
import Header from "~/components/Header.astro"
import HeaderDrawerContent from "~/components/HeaderDrawerContent.astro"
import HeaderNav from "~/components/HeaderNav.astro"
import NotificationBanner from "~/components/NotificationBanner.astro"

export type Props = HeadProps

const { ...head } = Astro.props
---

<!DOCTYPE html>
<html
	lang="en"
	class="overflow-x-hidden break-words bg-astro-gray-700 text-astro-gray-100 [word-break:break-word] [color-scheme:dark]"
>
	<head>
		<BaseHead {...head} />
	</head>
	<body>
		<div class="isolate flex min-h-screen flex-col overflow-x-hidden">
			<NotificationBanner uid="astro-210">
				Astro version 2.0 just shipped! <a href="/blog/astro-210/">Learn more on our blog</a>.
			</NotificationBanner>
			<div id="nav" class="sticky top-0 z-20 max-h-screen">
				<Header>
					<HeaderNav />
					<HeaderDrawerContent slot="drawer" />
				</Header>
				<hr class="border-astro-gray-500" />
			</div>

			<main class="noise-container z-10 flex flex-1 flex-col">
				<div class="noise"></div>
				<slot />
			</main>

			<hr class="border-astro-gray-500" />

			<div class="noise-container">
				<div class="noise"></div>
				<Footer />
			</div>
		</div>
		<style>
			:root.disclosure-open {
				overflow-y: hidden;
			}

			:root.disclosure-open #nav {
				overflow-y: auto;
			}
		</style>
	</body>
</html>
