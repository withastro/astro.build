---
import DateTime from '../../components/Date.astro';
import Author from '../../components/Author.astro';
import { smartypants } from 'smartypants';

interface Props {
    title: string;
    authors: string[];
    publishDate: string | Date;
    coverImage?: string;
}

const { title, authors, publishDate, coverImage } = Astro.props as Props
---

<header class="container">
    <h1 class="text-gradient" set:html={smartypants(title, 1)}></h1>

    {coverImage && (
        <img src={coverImage} alt={title} />
    )}

    <div class="authors">
        <h3>Written by</h3>
        <ul role="list">
            {authors.map(author => (
                <li><Author name={author} /></li>
            ))}
        </ul>
    </div>

    <div class="published">
        <h3>Published on</h3>
        <p><DateTime value={publishDate} /></p>
    </div>
</header>

<style>
    header {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-areas: 'title title' 'image image' 'authors published';
        padding: 2rem 0 4rem;
    }

    .authors {
        grid-area: authors;
    }

    .published {
        grid-area: published;
        text-align: end;
    }

    h1 {
        grid-area: title;
        font-family: var(--font-display);
        font-size: var(--size-800);
        margin-bottom: .75em;
    }

    img {
        grid-area: image;
        width: 48rem;
        max-width: 100%;
        border-radius: var(--corner-md);
        margin-bottom: 2rem;
    }

    ul {
        grid-area: authors;
        list-style: none;
    }

    h3 {
        font-family: var(--font-display);
        font-size: var(--size-300);
        font-weight: 700;
        color: var(--color-dusk);
        text-transform: uppercase;
        letter-spacing: 1px;
        padding-bottom: 1em;
    }

    .authors, .published p {
        font-size: var(--size-400);
    }

    .published p {
        line-height: 2rem;
    }
</style>
